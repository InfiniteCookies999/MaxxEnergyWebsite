<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audit Logs</title>

    <style>
        .email-container {
            height: fit-content;
            padding: 1rem;
        }

        table {
            width: 100%;
            table-layout: fixed; /* Ensures columns have a fixed width */
            border-collapse: collapse;
        }
        
        th, td {
            text-align: left;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap; /* Prevents text from wrapping */
            border: 1px solid #dee2e6;
            padding: 0.75rem;
            text-align: left;
        }

        tbody tr:nth-child(odd) {
            background-color: #f9f9f9; /* Light gray background for odd rows */
        }

        th {
            width: 33%;
        }
    </style>
</head>
<body>
    <div class="email-container">
        {{#each users}}
            <h3>Audit Logs of {{firstName}} {{lastName}}</h3>
            <table class="table table-striped table-bordered"
                   style="margin-bottom: 5rem" >
                <thead>
                    <tr>
                        <th scope="col">Time</th>
                        <th scope="col">Event Type</th>
                        <th scope="col">Description</th>
                    </tr>
                </thead>
                <tbody>
                    
                        {{#if auditLogs.length}}
                            {{#each auditLogs}}
                                <tr>
                                    <th>{{date}}</th>
                                    <th>{{action}}</th>
                                    <th>{{description}}</th>
                                </tr>
                            {{/each}}
                        {{else}}
                            <tr>
                                <th>No Logs</th>
                                <th></th>
                                <th></th>
                            </tr>
                        {{/if}}
                </tbody>
            </table>
        {{/each}}
    </div>
</body>
</html>